<script setup>import { reactive, provide, ref, onMounted } from 'vue'import { getAuth, onAuthStateChanged, signOut } from 'firebase/auth'const { $firebase } = useNuxtApp();const isPageLoaded = ref(false)/* login modal */const loginModalVisible = ref(false)const toggleLoginModal = () => {  loginModalVisible.value = !loginModalVisible.value}provide('loginModalVisible', loginModalVisible)provide('toggleLoginModal', toggleLoginModal)/* Signup Modal */const signupModalVisible = ref(false)const toggleSignupModal = () => {  signupModalVisible.value = !signupModalVisible.value}provide('signupModalVisible', signupModalVisible)provide('toggleSignupModal', toggleSignupModal)/* google auth stuff */const loginWithEmailAndPassword = ref('');const signUpWithGoogle = ref('');const signUpWithFacebook = ref('');const userLoggedOutAfterLogin =ref(false);const isUserLoggedIn = ref(false);const userEmail = ref('');const userPassword = ref('');const loginUpdateStatus = ref('');const loginErrorMessage = ref('');const loggedInUserData = reactive({});function logInUser(user) {  isUserLoggedIn.value = true;  // Merge user data into your reactive object  Object.assign(loggedInUserData, user);  console.log('User logged in:', loggedInUserData);}const logOutUser = () => {  $firebase.signOut($firebase.auth)      .then(() => {        console.log("User signed out.");        // Update reactive state after sign-out        isUserLoggedIn.value = false;        for (const key in loggedInUserData) {          loggedInUserData[key] = null;        }        userLoggedOutAfterLogin.value = true; // trigger logout message        toggleLoginModal(); // open the modal after logout      })      .catch((error) => {        console.error("Error signing out:", error);      });};provide("logInUser", logInUser);provide("logOutUser", logOutUser);provide("loggedInUserData", loggedInUserData);provide("isUserLoggedIn", isUserLoggedIn);provide("userLoggedOutAfterLogin", userLoggedOutAfterLogin);onMounted(() => {// keeps the user logged int if the user was previously logged into the site and its' set to the cookie  const auth = getAuth();  onAuthStateChanged(auth, (user) => {    if (user) {      logInUser({        name: user.displayName,        email: user.email,        photo: user.photoURL,        uid: user.uid,      });    } else {    }  });});</script><template>  <div>    <div id="site-overlay" class="w-screen h-screen bg-black opacity-[0] pointer-events-none fixed inset-0 z-[1] transition transition-fast"></div>    <HeaderSection />        <main class="main">          <NuxtPage :key="$route.fullPath" />        </main>    <LoginModal />    <SignupModal />    <FooterSection />  </div></template><style scoped></style>