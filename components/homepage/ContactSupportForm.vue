<script setup>  import { ref } from 'vue'  import { useNuxtApp } from '#app'  import { collection, addDoc, serverTimestamp } from 'firebase/firestore'  // Get the firebase instance from the Nuxt app  const { $firebase } = useNuxtApp()  // Form Fields  const firstName = ref('')  const lastName = ref('')  const emailAddress = ref('')  const company = ref('')  const message = ref('')  const formSuccess = ref(false);  // Function to handle form submission    const submitForm = () => {      addDoc(collection($firebase.firebaseDatabase, "contactSupportFormSubmissions"), {        'First Name': firstName.value,        'Last Name': lastName.value,        'Email Address': emailAddress.value,        'Company Name': company.value,        'Message': message.value,        'Submitted on': serverTimestamp() // Stores the server time      })          .then(docRef => {            console.log("Document written with ID: ", docRef.id)            formSuccess.value = true          })          .catch(error => {            console.error("Error adding document: ", error)          })    }</script><template>    <section class="contact-support-form w-full relative block py-[95px] bg-neutral-100">      <div class="site-container w-full relative flex flex-row flex-wrap">        <div class="top-text relative block w-full md:max-w-[40%] md:pr-[30px]">          <h3 class="font-black text-neutral-900 text-[36px] leading-[44px] pb-[16px]">            Contact Support          </h3>          <p class="block relative w-full text-neutral-700 text-[16px] leading-[24px] font-normal">            Fill out the form with your questions or requests. Our team is ready to assist you quickly and efficiently!          </p>        </div>        <div class="form-wrapper w-full relative flex flex-col justify-center pt-[65px] md:pt-0 md:flex-1 md:pl-[30px]">          <form v-if="!formSuccess" class="support-form w-full relative block" id="contact-support-form" @submit.prevent="submitForm">            <!-- First Name / Last Name -->            <div class="form-row w-full relative flex flex-row flex-wrap">              <div class="form-col w-full md:max-w-[50%] pb-[32px] md:pr-[12px]">                <label class="block relative w-full font-medium text-[14px] leading-[16px] pb-[8px] text-neutral-900" for="first_name">First Name</label>                <input class="block relative w-full bg-transparent border-b border-b-neutral-200 p-[12px] text-[14px] font-normal text-neutral-300" type="text" name="first_name" id="first_name" required placeholder="e.g. John" v-model="firstName">              </div>              <div class="form-col w-full md:max-w-[50%] pb-[32px] md:pl-[12px]">                <label class="block relative w-full font-medium text-[14px] leading-[16px] pb-[8px] text-neutral-900" for="last_name">Last Name</label>                <input class="block relative w-full bg-transparent border-b border-b-neutral-200 p-[12px] text-[14px] font-normal text-neutral-300" type="text" name="last_name" id="last_name" required placeholder="e.g. Dowry" v-model="lastName">              </div>            </div>            <!-- Email Address -->            <div class="form-row w-full relative flex flex-row flex-wrap">              <div class="form-col w-full pb-[32px]">                <label class="block relative w-full font-medium text-[14px] leading-[16px] pb-[8px] text-neutral-900" for="email_address">Email</label>                <input class="block relative w-full bg-transparent border-b border-b-neutral-200 p-[12px] text-[14px] font-normal text-neutral-300" type="email" name="email_address" id="email_address" required placeholder="e.g. john.dowry@example.com" v-model="emailAddress">              </div>            </div>            <!--Company -->            <div class="form-row w-full relative flex flex-row flex-wrap">              <div class="form-col w-full pb-[32px]">                <label class="block relative w-full font-medium text-[14px] leading-[16px] pb-[8px] text-neutral-900" for="company">Company (if any)</label>                <input class="block relative w-full bg-transparent border-b border-b-neutral-200 p-[12px] text-[14px] font-normal text-neutral-300" type="text" name="company" id="company" required placeholder="e.g. Company XYZ" v-model="company">              </div>            </div>            <!-- Additional Message  -->            <div class="form-row w-full relative flex flex-row flex-wrap">              <div class="form-col message-col w-full pb-[32px] relative">                <label class="block relative w-full font-medium text-[14px] leading-[16px] pb-[8px] text-neutral-900" for="additional_message">Additional Message</label>                <div class="textarea-wrapper w-full h-auto relative">                  <client-only>                    <textarea                          style="box-shadow: 2px 4px 4px rgba(146,146,146,0.15);"                          maxlength="240"                          v-model="message"                          class="block min-h-[100px] max-h-[100px] relative w-full bg-white border border-neutral-200 rounded-[8px] p-[12px] pr-[70px] text-[16px] font-normal text-neutral-300"                          name="additional_message"                          id="additional_message"                          placeholder="Add your message">                      </textarea>                    <span class="textarea-count absolute text-neutral-500 text-[12px] font-normal top-[12px] right-[12px] pointer-events-none"> {{ message.length }}/240</span>                  </client-only>                </div>              </div>            </div>            <!-- SUBMIT -->            <div class="bottom-button w-full relative">              <button type="submit" class="block text-white/80 uppercase font-black tracking-[2px] w-full relative py-[11px] px-[100px] hover:bg-black hover:text-white/100 transition transition-fast bg-brand-300">                Submit              </button>            </div>          </form>          <div class="submitted-message text-center block relative" v-if="formSuccess">            <p class="block text-brand-100 font-primary text-[30px] font-semibold"> Thank you for your submission.</p>          </div>        </div>      </div>    </section></template><style scoped lang="scss">  .contact-support-form {    textarea:focus + .message-col + label {      color: #00AA8B;    }    .form-col.message-col:focus-within label {      color: #00AA8B;    }  }  .form-col {    &:focus-within:not(.message-col) label {      color: #00AA8B;    }    label {      transition: .25s all ease-in-out;      -webkit-transition: .25s all ease-in-out;    }    input {        border-top: none;        border-left: none;        border-right: none;        caret-color: #00AA8B;        transition: .25s;        font-size: 16px !important;        border-radius: 0;        &:focus {          border-bottom: 1px solid #00AA8B;          transition: .25s;          outline: none;          border-top: none;          border-left: none;          border-right: none;        }      }      textarea {        font-size: 16px;        &:focus {          border: 1px solid #00AA8B;          outline: none;          transition: .25s;        }      }  }</style>